<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>בית מרקחת טבעוני | Cruelty Free</title>
  <meta name="description" content="סטים חכמים לישראל: להגיע לסף משלוח חינם באמזון עם מוצרים טבעוניים וקרואלטי-פרי"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="assets/css/styles.css?v=2026-01-14-v12"/>
  <link rel="icon" type="image/png" href="assets/img/logo.png"/>
</head>

<body dir="rtl">
<header class="site-header">
  <div class="container">
    <a class="logo" href="index.html">KBWG</a>
    <nav class="main-nav">
      <ul>
        <li><a href="products.html">מוצרים</a></li>
        <li><a href="todays-top-deals.html">דילים</a></li>
        <li><a href="vegan-pharmacy.html" aria-current="page">חבילות לישראל</a></li>
        <li><a href="shopping-calendar.html">לוח מבצעים</a></li>
        <li><a href="ingredient-detective.html">בודק רכיבים</a></li>
        <li><a href="contact.html">צור קשר</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="container">
  <h1>חבילות לישראל</h1>
  <p class="muted">בחרי חבילה מוכנה — ואז החליפי כל מוצר בקלות בתוך חלון קופץ.</p>

  <section class="bundle-grid" aria-label="חבילות מומלצות">
    <button class="bundle-card" type="button" onclick="openBundle('home')">
      <div class="bundle-card__title">ערכת בית טבעונית</div>
      <div class="bundle-card__meta">כביסה • כלים • היגיינה</div>
      <div class="bundle-card__cta">לצפייה והחלפה</div>
    </button>

    <button class="bundle-card" type="button" onclick="openBundle('care')">
      <div class="bundle-card__title">ערכת טיפוח בסיסית</div>
      <div class="bundle-card__meta">שיער • גוף • פנים</div>
      <div class="bundle-card__cta">לצפייה והחלפה</div>
    </button>
  </section>
</main>

<div id="bundleModal" class="bundle-modal" role="dialog" aria-modal="true" aria-labelledby="bundleTitle" hidden>
  <div class="bundle-modal__panel">
    <button class="bundle-modal__close" type="button" onclick="closeBundle()" aria-label="סגירה">×</button>
    <h2 id="bundleTitle"></h2>

    <div id="bundleItems" class="bundle-items"></div>

    <div class="bundle-swap">
      <h3>החלפות מהירות</h3>
      <p class="muted">בחרי פריט מהרשימה למטה כדי להחליף את הפריט שסימנת בחבילה.</p>
      <div id="swapOptions" class="swap-options"></div>
    </div>
  </div>
</div>

<script>
const bundles = {
  home: {
    title: "ערכת בית טבעונית",
    items: [
      { id:"laundry", label:"קפסולות כביסה טבעוניות" },
      { id:"dish", label:"סבון כלים טבעוני" },
      { id:"tooth", label:"משחת שיניים טבעונית" }
    ]
  },
  care: {
    title: "ערכת טיפוח בסיסית",
    items: [
      { id:"shampoo", label:"שמפו טבעוני" },
      { id:"conditioner", label:"מרכך טבעוני" },
      { id:"facecream", label:"קרם פנים טבעוני" }
    ]
  }
};

const quickSwaps = [
  "שמפו טבעוני",
  "מרכך טבעוני",
  "סבון גוף טבעוני",
  "דאודורנט טבעוני",
  "קרם פנים טבעוני",
  "משחת שיניים טבעונית"
];

let activeBundleId = null;
let activeSlotIndex = 0;

function renderSwapOptions(){
  const wrap = document.getElementById("swapOptions");
  wrap.innerHTML = "";
  quickSwaps.forEach(name=>{
    const btn=document.createElement("button");
    btn.type="button";
    btn.className="swap-pill";
    btn.textContent=name;
    btn.onclick=()=>applySwap(name);
    wrap.appendChild(btn);
  });
}

function openBundle(id){
  activeBundleId=id;
  activeSlotIndex=0;
  const modal=document.getElementById("bundleModal");
  const data=bundles[id];
  document.getElementById("bundleTitle").textContent=data.title;
  const itemsWrap=document.getElementById("bundleItems");
  itemsWrap.innerHTML="";
  data.items.forEach((it, idx)=>{
    const row=document.createElement("div");
    row.className="bundle-item";
    row.onclick=()=>selectSlot(idx);
    row.innerHTML = `
      <div class="bundle-item__radio">${idx===0?"●":"○"}</div>
      <div class="bundle-item__text">
        <div class="bundle-item__label">${it.label}</div>
        <div class="bundle-item__hint">לחצי כדי לבחור ואז החליפי למטה</div>
      </div>
    `;
    itemsWrap.appendChild(row);
  });
  renderSwapOptions();
  modal.hidden=false;
  document.body.style.overflow="hidden";
}

function closeBundle(){
  const modal=document.getElementById("bundleModal");
  modal.hidden=true;
  document.body.style.overflow="";
}

function selectSlot(idx){
  activeSlotIndex=idx;
  const rows=[...document.querySelectorAll(".bundle-item")];
  rows.forEach((r,i)=>{
    r.classList.toggle("is-active", i===idx);
    const dot=r.querySelector(".bundle-item__radio");
    if(dot) dot.textContent = i===idx ? "●" : "○";
  });
}

function applySwap(newLabel){
  const data=bundles[activeBundleId];
  if(!data) return;
  data.items[activeSlotIndex].label=newLabel;
  // re-render items, keep selection
  const itemsWrap=document.getElementById("bundleItems");
  itemsWrap.innerHTML="";
  data.items.forEach((it, idx)=>{
    const row=document.createElement("div");
    row.className="bundle-item" + (idx===activeSlotIndex ? " is-active":"");
    row.onclick=()=>selectSlot(idx);
    row.innerHTML = `
      <div class="bundle-item__radio">${idx===activeSlotIndex?"●":"○"}</div>
      <div class="bundle-item__text">
        <div class="bundle-item__label">${it.label}</div>
        <div class="bundle-item__hint">לחצי כדי לבחור ואז החליפי למטה</div>
      </div>
    `;
    itemsWrap.appendChild(row);
  });
  if (window.Weglot) { try { Weglot.refresh(); } catch(e){} }
}

// close on backdrop click
document.addEventListener("click",(e)=>{
  const modal=document.getElementById("bundleModal");
  if(modal.hidden) return;
  if(e.target === modal) closeBundle();
});
</script>
</body>

</html>
